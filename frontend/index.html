<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Analytics & Prediction System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìä Customer Churn Analytics</h1>
            <p class="subtitle">Predictive Intelligence for Customer Retention</p>
        </header>

        <!-- KPI Dashboard -->
        <section class="kpi-section">
            <div class="kpi-card" id="kpi-total">
                <div class="kpi-icon">üë•</div>
                <div class="kpi-content">
                    <h3>Total Customers</h3>
                    <p class="kpi-value" id="total-customers">-</p>
                </div>
            </div>
            <div class="kpi-card" id="kpi-churn">
                <div class="kpi-icon">‚ö†Ô∏è</div>
                <div class="kpi-content">
                    <h3>Churn Rate</h3>
                    <p class="kpi-value" id="churn-rate">-</p>
                </div>
            </div>
            <div class="kpi-card" id="kpi-charges">
                <div class="kpi-icon">üí∞</div>
                <div class="kpi-content">
                    <h3>Avg Monthly Charges</h3>
                    <p class="kpi-value" id="avg-charges">-</p>
                </div>
            </div>
        </section>

        <!-- Filters -->
        <section class="filters-section">
            <h2>Segment Analysis</h2>
            <div class="filters">
                <div class="filter-group">
                    <label for="segment-by">Segment By:</label>
                    <select id="segment-by">
                        <option value="Contract">Contract Type</option>
                        <option value="InternetService">Internet Service</option>
                        <option value="PaymentMethod">Payment Method</option>
                    </select>
                </div>
                <button class="btn-primary" onclick="loadSegmentAnalysis()">Analyze</button>
            </div>
        </section>

        <!-- Charts -->
        <section class="charts-section">
            <div class="chart-container">
                <h3>Churn by Segment</h3>
                <canvas id="segmentChart"></canvas>
            </div>
        </section>

        <!-- Prediction Section -->
        <section class="prediction-section">
            <h2>üîÆ Predict Customer Churn</h2>
            <form id="prediction-form" class="prediction-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="tenure">Tenure (months)</label>
                        <input type="number" id="tenure" name="tenure" min="0" max="100" value="12" required>
                    </div>
                    <div class="form-group">
                        <label for="monthly-charges">Monthly Charges ($)</label>
                        <input type="number" id="monthly-charges" name="MonthlyCharges" min="0" max="200" step="0.01" value="65.00" required>
                    </div>
                    <div class="form-group">
                        <label for="contract">Contract Type</label>
                        <select id="contract" name="Contract" required>
                            <option value="Month-to-month">Month-to-month</option>
                            <option value="One year">One year</option>
                            <option value="Two year">Two year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="internet-service">Internet Service</label>
                        <select id="internet-service" name="InternetService" required>
                            <option value="DSL">DSL</option>
                            <option value="Fiber optic">Fiber optic</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tech-support">Tech Support</label>
                        <select id="tech-support" name="TechSupport" required>
                            <option value="No">No</option>
                            <option value="Yes">Yes</option>
                            <option value="No internet service">No internet service</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="payment-method">Payment Method</label>
                        <select id="payment-method" name="PaymentMethod" required>
                            <option value="Electronic check">Electronic check</option>
                            <option value="Mailed check">Mailed check</option>
                            <option value="Bank transfer (automatic)">Bank transfer (automatic)</option>
                            <option value="Credit card (automatic)">Credit card (automatic)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paperless-billing">Paperless Billing</label>
                        <select id="paperless-billing" name="PaperlessBilling" required>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="senior-citizen">Senior Citizen</label>
                        <select id="senior-citizen" name="SeniorCitizen" required>
                            <option value="0">No</option>
                            <option value="1">Yes</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn-predict">Predict Churn Risk</button>
            </form>

            <!-- Prediction Result -->
            <div id="prediction-result" class="prediction-result hidden">
                <h3>Prediction Result</h3>
                <div class="result-content">
                    <div class="result-metric">
                        <span class="metric-label">Churn Probability:</span>
                        <span class="metric-value" id="result-probability">-</span>
                    </div>
                    <div class="result-metric">
                        <span class="metric-label">Risk Level:</span>
                        <span class="metric-value risk-badge" id="result-risk">-</span>
                    </div>
                    <div class="result-metric">
                        <span class="metric-label">Prediction:</span>
                        <span class="metric-value" id="result-prediction">-</span>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="app.js"></script>
</body>
</html>
